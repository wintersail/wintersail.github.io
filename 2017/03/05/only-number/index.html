<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#33474d">
  <title>只能输入数字 | Trust the Process</title>
  <link rel="stylesheet" href="/css/style.css" />

  <link rel="alternate" href="/atom.xml" title="Trust the Process" type="application/atom+xml">

</head>

<body>

  <header class="header">
    <nav class="header__nav">

      <a href="/archives" class="header__link">Archive</a>

      <a href="/tags" class="header__link">Tags</a>

    </nav>
    <h1 class="header__title">
      <a href="/">Trust the Process</a>
    </h1>
    <h2 class="header__subtitle"></h2>
  </header>

  <main>
    <article>

      <h1>只能输入数字</h1>

      <div class="article__infos">
        <span class="article__date">2017.03.05</span>
        <br />

        <span class="article__tags">
          <a class="article__tag-link" href="/tags/javascript/">javascript</a>
        </span>

      </div>

      <h4 id="代码如下：">
        <a href="#代码如下：" class="headerlink" title="代码如下："></a>代码如下：</h4>
      <figure class="highlight html">
        <table>
          <tr>
            <td class="gutter">
              <pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre>
            </td>
            <td class="code">
              <pre><div class="line"><span class="meta">&lt;!DOCTYPE HTML&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> &gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>index<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"txt1"</span> <span class="attr">oninput</span>=<span class="string">"show(this.value)"</span>  /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params">val</span>) </span>&#123;</div><div class="line">            <span class="built_in">document</span>.getElementById(<span class="string">'txt1'</span>).value = val.replace(<span class="regexp">/\D/g</span>,<span class="string">''</span>);</div><div class="line">    &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre>
            </td>
          </tr>
        </table>
      </figure>
      <p>&emsp;&emsp;也试过onkeyup,onkeydown,onkeypress，第一个onkeyup会先显示再删除，后两个由于先执行了事件再添加字符，不能满足要求。</p>

      <span class="different-posts">
        <a href="/2017/03/05/only-number/" onclick="window.history.go(-1); return false;">⬅️ Go back </a>
      </span>

    </article>

  </main>

  <footer class="footer">
    <div class="footer-content">

      <div class="footer__element">
        <p>Are You OK ?</p>
      </div>

      <div class="footer__element">
        <ul class="footer-links">
        </ul>
      </div>

      <div class="footer-credit">
        <span>© 2017 Donham Sun | Powered by Hexo</span>
      </div>

    </div>

  </footer>

</body>

</html>
